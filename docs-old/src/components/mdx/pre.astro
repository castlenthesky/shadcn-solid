---
import CopyButton from "../copy-button";
import PackageManagerCopyButton from "../package-manager-copy-button";

type Props = {
	rawString: string;
	npmCommand: string;
	yarnCommand: string;
	pnpmCommand: string;
	bunCommand: string;
	withMeta: boolean;
};

const {
	rawString,
	bunCommand,
	npmCommand,
	pnpmCommand,
	yarnCommand,
	withMeta,
	...rest
} = Astro.props;
---

<pre
    class="mb-4 mt-6 max-h-[650px] overflow-x-auto py-4 rounded-lg border"
    {...rest}><slot /></pre>
{
    rawString && !npmCommand ? (
        <CopyButton rawString={rawString} withMeta={withMeta} client:load />
    ) : null
}
{
    npmCommand && yarnCommand && pnpmCommand && bunCommand ? (
        <PackageManagerCopyButton
            npmCommand={npmCommand}
            yarnCommand={yarnCommand}
            pnpmCommand={pnpmCommand}
            bunCommand={bunCommand}
            client:only="solid-js"
        />
    ) : null
}
